(self.webpackChunk=self.webpackChunk||[]).push([[697],{1697:(t,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>i});const s={data:function(){return{is_loading:!0,admins:[]}},methods:{getAdminList:function(){var t=this;axios.get("/admin/api/get-admin-list").then((function(t){return t.data})).then((function(n){"ok"==n.status&&(t.admins=n.data,t.is_loading=!1)})).catch((function(t){console.error(t.response.data)}))},getProfileInfo:function(){var t=this;axios.get("/admin/api/get-admin-info").then((function(t){return t.data})).then((function(n){"super"!=n.role?t.$router.push({name:"admin-home"}):t.getAdminList()})).catch((function(t){console.error(t.response.data)}))},deleteAdmin:function(t,n){var e=this;swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(s){s.isConfirmed&&axios.post("/admin/api/delete-admin",{adminId:t}).then((function(t){return t.data})).then((function(t){"ok"==t.status&&(swal.fire({title:"Success",icon:"success",text:t.msg,position:"top-end",showConfirmButton:!1,timer:1e3}),e.admins.splice(n,1))})).catch((function(t){console.error(t.response.data)}))}))}},created:function(){this.getProfileInfo()}};const i=(0,e(1900).Z)(s,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"section"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header d-flex justify-content-between"},[e("h4",[t._v("Admin List")]),t._v(" "),e("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"admin-new"}}},[e("i",{staticClass:"fas fa-plus"}),t._v(" Create admin")])],1),t._v(" "),e("div",{staticClass:"card-body"},[t.is_loading?e("div",{staticClass:"row"},t._l(10,(function(t){return e("div",{key:t,staticClass:"col-12"},[e("skeleton",{attrs:{width:"100%",height:"30px"}})],1)})),0):t._e(),t._v(" "),t.is_loading?t._e():e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("tbody",[0==t.admins.length?[t._m(0)]:t._l(t.admins,(function(n,s){return e("tr",{key:s},[e("td",[n.photo?e("img",{staticClass:"user-round",attrs:{src:"/uploads/admin/"+n.photo,alt:""}}):e("img",{staticClass:"user-round",attrs:{src:"/images/user-placeholder.png",alt:""}})]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(n.email))]),t._v(" "),e("td",[e("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(e){return t.deleteAdmin(n.id,s)}}},[e("i",{staticClass:"fas fa-trash"})])])])}))],2)])])])])])])])}),[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("p",{staticClass:"text-center text-muted"},[e("strong",[t._v("No admin created")])])}],!1,null,null,null).exports}}]);