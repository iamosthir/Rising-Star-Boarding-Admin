(self.webpackChunk=self.webpackChunk||[]).push([[208],{208:(t,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>o});const e={data:function(){return{bookings:[],isLoading:!0,paginateData:{},moment}},methods:{getDraftBooking:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,axios.get("/admin/api/get-all-boarding-booking?page="+n,{params:{type:"draft"}}).then((function(t){return t.data})).then((function(n){t.bookings=n.main_data,t.paginateData=n.paginate,t.isLoading=!1})).catch((function(t){console.error(t.response.data)}))},deleteBooking:function(t,n){var a=this;swal.fire({title:"Are you sure?",text:"Once deleted can't be restored",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&axios.post("/admin/api/delete-boardng-booking",{boardingId:n}).then((function(t){return t.data})).then((function(n){"ok"==n.status&&(swal.fire("Success",n.msg,"success"),a.bookings.splice(t,1))})).catch((function(t){console.error(t.response.data)}))}))}},created:function(){this.getDraftBooking()}};const o=(0,a(1900).Z)(e,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("section",{staticClass:"section"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[t.isLoading?a("div",{staticClass:"row"},t._l(10,(function(t){return a("div",{key:t,staticClass:"col-12"},[a("skeleton",{attrs:{width:"100%",height:"30px"}})],1)})),0):a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-hover table-striped"},[t._m(1),t._v(" "),a("tbody",t._l(t.bookings,(function(n,e){return a("tr",{key:e},[a("td",[t._v("#"+t._s(n.booking_data.id))]),t._v(" "),a("td",[t._v(t._s(t.moment(n.booking_data.created_at).format("DD MMM YYYY - hh:mm a")))]),t._v(" "),a("td",[t._v(t._s(n.booking_data.customer.first_name+" "+n.booking_data.customer.last_name))]),t._v(" "),a("td",[t._v("\n                                                "+t._s(t.moment(n.booking_data.start_date).format("DD MMM YYYY"))+" \n                                                  to "+t._s(t.moment(n.booking_data.ending_date).format("DD MMM YYYY"))+"\n                                            ")]),t._v(" "),a("td",[t._v(t._s(n.booking_data.requested_kennel))]),t._v(" "),a("td",[a("router-link",{staticClass:"btn btn-sm btn-primary",attrs:{to:{name:"booking.draft-continue",params:{bookingId:n.booking_data.id}}}},[t._v("Continue with order")]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){return t.deleteBooking(e,n.booking_data.id)}}},[t._v("Delete")])],1)])})),0)])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row justify-content-center"},[a("pagination",{attrs:{data:t.paginateData},on:{"pagination-change-page":t.getDraftBooking}})],1)])])])])])])])}),[function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"card-header"},[a("h4",[t._v("Draft bookings")])])},function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("thead",[a("tr",[a("th",[t._v("Booking ID")]),t._v(" "),a("th",[t._v("Booking Date")]),t._v(" "),a("th",[t._v("Customer Name")]),t._v(" "),a("th",[t._v("Booking Range")]),t._v(" "),a("th",[t._v("Requested Kennels")]),t._v(" "),a("th",[t._v("Action")])])])}],!1,null,null,null).exports}}]);