(self.webpackChunk=self.webpackChunk||[]).push([[408],{5408:(t,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>i});const e={data:function(){return{is_loading1:!0,is_loading2:!0,priceForm:new Form({per_kennel:"",additional_dog:""}),discountPriceForm:new Form({discount_day:"",booking_day:""}),showCreateForm:!1,discounts:[]}},methods:{getPricing:function(){var t=this;axios.get("/admin/api/get-pricing").then((function(t){return t.data})).then((function(o){t.priceForm.per_kennel=o.price_per_kennel,t.priceForm.additional_dog=o.price_for_additional_dog,t.is_loading1=!1})).catch((function(t){console.error(t.response.data)}))},updatePrice:function(){this.priceForm.post("/admin/api/update-price").then((function(t){return t.data})).then((function(t){"ok"==t.status&&swal.fire("Success",t.msg,"success")})).catch((function(t){console.error(t.response.data)}))},getDiscounts:function(){var t=this;axios.get("/admin/api/get-discount-list").then((function(t){return t.data})).then((function(o){t.discounts=o,t.is_loading2=!1})).catch((function(t){console.error(t.response.data)}))},addDiscount:function(){var t=this;this.discountPriceForm.post("/admin/api/add-discount-price").then((function(t){return t.data})).then((function(o){"ok"==o.status&&(swal.fire("Success",o.msg,"success"),t.discountPriceForm.reset(),t.discounts.push(o.data),t.showCreateForm=!1)})).catch((function(t){console.error(t.response.data)}))},deleteDiscount:function(t,o){var s=this;swal.fire({title:"Are you sure?",text:"Once deleted can't be restored",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&axios.post("/admin/api/delete-discount",{id:t}).then((function(t){return t.data})).then((function(t){"ok"==t.status&&(swal.fire("Success",t.msg,"success"),s.discounts.splice(o,1))})).catch((function(t){console.error(t.response.data)}))}))}},created:function(){this.getPricing(),this.getDiscounts()}};const i=(0,s(1900).Z)(e,(function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("section",{staticClass:"section"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[t._m(0),t._v(" "),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(o){return o.preventDefault(),t.updatePrice.apply(null,arguments)}}},[t.is_loading1?s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 form-group"},[s("label",{attrs:{for:""}},[t._v("Price Per Kennel for 1 night (USD)")]),t._v(" "),s("skeleton",{attrs:{width:"100%",height:"40px"}})],1),t._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("label",{attrs:{for:""}},[t._v("Price for additional dog in same kennel (USD)")]),t._v(" "),s("skeleton",{attrs:{width:"100%",height:"40px"}})],1)]):t._e(),t._v(" "),t.is_loading1?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 form-group"},[s("label",{attrs:{for:""}},[t._v("Price Per Kennel for 1 night (USD)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.priceForm.per_kennel,expression:"priceForm.per_kennel"}],staticClass:"form-control",class:{"is-invalid":t.priceForm.errors.has("per_kennel")},attrs:{type:"number"},domProps:{value:t.priceForm.per_kennel},on:{input:function(o){o.target.composing||t.$set(t.priceForm,"per_kennel",o.target.value)}}}),t._v(" "),s("HasError",{attrs:{form:t.priceForm,field:"per_kennel"}})],1),t._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("label",{attrs:{for:""}},[t._v("Price for additional dog in same kennel (USD)")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.priceForm.additional_dog,expression:"priceForm.additional_dog"}],staticClass:"form-control",class:{"is-invalid":t.priceForm.errors.has("additional_dog")},attrs:{type:"number"},domProps:{value:t.priceForm.additional_dog},on:{input:function(o){o.target.composing||t.$set(t.priceForm,"additional_dog",o.target.value)}}}),t._v(" "),s("HasError",{attrs:{form:t.priceForm,field:"additional_dog"}})],1),t._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("Button",{staticClass:"btn btn-success",attrs:{form:t.priceForm}},[t._v("Update")])],1)])])])])]),t._v(" "),s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-header d-flex justify-content-between"},[s("h4",{staticClass:"text-muted"},[t._v("Dicscounts")]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(o){t.showCreateForm=!0}}},[s("i",{staticClass:"fas fa-plus"}),t._v(" Add")])]),t._v(" "),s("div",{staticClass:"card-body"},[t.showCreateForm?s("div",{attrs:{id:"addForm"}},[s("form",{on:{submit:function(o){return o.preventDefault(),t.addDiscount.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6 form-group"},[s("label",{attrs:{for:""}},[t._v("Booking Days")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.discountPriceForm.booking_day,expression:"discountPriceForm.booking_day"}],staticClass:"form-control",class:{"is-invalid":t.discountPriceForm.errors.has("booking_day")},attrs:{type:"number",placeholder:"Days.."},domProps:{value:t.discountPriceForm.booking_day},on:{input:function(o){o.target.composing||t.$set(t.discountPriceForm,"booking_day",o.target.value)}}}),t._v(" "),s("HasError",{attrs:{form:t.discountPriceForm,field:"booking_day"}})],1),t._v(" "),s("div",{staticClass:"col-md-6 form-group"},[s("label",{attrs:{for:""}},[t._v("Will Charge for...")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.discountPriceForm.discount_day,expression:"discountPriceForm.discount_day"}],staticClass:"form-control",class:{"is-invalid":t.discountPriceForm.errors.has("discount_day")},attrs:{type:"number",placeholder:"Days.."},domProps:{value:t.discountPriceForm.discount_day},on:{input:function(o){o.target.composing||t.$set(t.discountPriceForm,"discount_day",o.target.value)}}}),t._v(" "),s("HasError",{attrs:{form:t.discountPriceForm,field:"discount_day"}})],1),t._v(" "),s("div",{staticClass:"col-md-12 form-group"},[t.discountPriceForm.booking_day&&t.discountPriceForm.discount_day?s("p",[s("strong",[t._v("For "+t._s(t.discountPriceForm.booking_day)+" Days booking, System will charge for "+t._s(t.discountPriceForm.discount_day)+" days")])]):t._e()]),t._v(" "),s("div",{staticClass:"form-group col-md-6"},[s("Button",{staticClass:"btn btn-success",attrs:{form:t.discountPriceForm}},[t._v("Add")]),t._v(" "),s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(o){t.showCreateForm=!1,t.discountPriceForm.reset()}}},[t._v("Cancel")])],1)])])]):t._e(),t._v(" "),t.showCreateForm?t._e():s("div",{attrs:{id:"list"}},[t.is_loading2?s("div",{staticClass:"row"},t._l(5,(function(t){return s("div",{key:t,staticClass:"col-md-12"},[s("skeleton",{attrs:{width:"100%",height:"40px"}})],1)})),0):t._e(),t._v(" "),t.is_loading2?t._e():s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table"},[t._m(1),t._v(" "),s("tbody",t._l(t.discounts,(function(o,e){return s("tr",{key:e},[s("td",[t._v(t._s(e+1))]),t._v(" "),s("td",[t._v(t._s(o.booking_day)+" Days")]),t._v(" "),s("td",[t._v(t._s(o.discount_day)+" Days")]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(s){return t.deleteDiscount(o.id,e)}}},[t._v("Delete")])])])})),0)])])])])])])])])}),[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"card-header"},[s("h4",{staticClass:"text-muted"},[t._v("Pricing")])])},function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("thead",[s("tr",[s("th",[t._v("#")]),t._v(" "),s("th",[t._v("Booking Day")]),t._v(" "),s("th",[t._v("Discount Day")]),t._v(" "),s("th",[t._v("Action")])])])}],!1,null,null,null).exports}}]);