(self.webpackChunk=self.webpackChunk||[]).push([[956],{2956:(t,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>e});const s={data:function(){return{boarding:{},moment,is_loading:!0,checkOut:new Form({date:"",checkOutForm:!1,bookingId:this.$route.params.id})}},methods:{getBoardingData:function(){var t=this;axios.get("/admin/api/get-boarding-data",{params:{bookingId:this.$route.params.id}}).then((function(t){return t.data})).then((function(a){"ok"==a.status?(t.boarding=a.main_data,t.is_loading=!1):t.$router.go(-1)})).catch((function(a){console.error(a.response.data),t.$router.go(-1)}))},printData:function(t,a){window.open("/admin/api/print-pet-info?petId="+a+"&bookingId="+t).focus()},changeStatus:function(t,a,n){var s=this;axios.post("/admin/api/change-boarding-status",{bookingId:t,status:a}).then((function(t){return t.data})).then((function(t){"ok"==t.status&&(swal.fire("success",t.msg,"success"),s.boarding.booking_data.status=t.action)})).catch((function(t){console.error(t.response.data)}))},checkIn:function(){var t=this;axios.post("/admin/api/boarding-check-in",{bookingId:this.$route.params.id}).then((function(t){return t.data})).then((function(a){"ok"==a.status&&(t.boarding.booking_data.checkIn=a.checkIn)})).catch((function(t){console.error(t.response.data)}))},checkOutData:function(){var t=this;this.checkOut.post("/admin/api/boarding-check-out").then((function(t){return t.data})).then((function(a){"ok"==a.status&&(t.checkOut.reset(),t.checkOut.checkOutForm=!1,t.boarding.booking_data.checkOut=a.checkOut)})).catch((function(t){console.error(t.response.data)}))}},created:function(){this.getBoardingData()}};const e=(0,n(1900).Z)(s,(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("section",{staticClass:"section"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[t.is_loading?n("div",{staticClass:"card"},[n("div",{staticClass:"card-header d-flex justify-content-between"},[n("skeleton",{attrs:{width:"10%",height:"20px"}}),t._v(" "),n("skeleton",{attrs:{width:"30%",height:"20px"}})],1),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"mt-3 d-flex justify-content-between"},[n("skeleton",{attrs:{width:"40%",height:"20px"}}),t._v(" "),n("skeleton",{attrs:{width:"40%",height:"20px"}})],1),t._v(" "),n("div",{staticClass:"mt-3 d-flex justify-content-between"},[n("skeleton",{attrs:{width:"40%",height:"20px"}}),t._v(" "),n("skeleton",{attrs:{width:"40%",height:"20px"}})],1),t._v(" "),n("div",{staticClass:"mt-3 d-flex justify-content-between"},[n("skeleton",{attrs:{width:"40%",height:"20px"}}),t._v(" "),n("skeleton",{attrs:{width:"40%",height:"20px"}})],1),t._v(" "),n("div",{staticClass:"row mt-4"},t._l(4,(function(t){return n("div",{key:t,staticClass:"col-md-12 mt-2"},[n("skeleton",{attrs:{width:"100%",height:"30px"}})],1)})),0)])]):t._e(),t._v(" "),t.is_loading?t._e():n("div",{staticClass:"card"},[n("div",{staticClass:"card-header d-flex justify-content-between"},[n("span",{staticClass:"text-muted"},[t._v("Booking ID #"+t._s(t.boarding.booking_data.id))]),t._v(" "),n("span",[t._v("Booking Date :\n            "),n("strong",[t._v(t._s(t.moment(t.boarding.booking_data.created_at).format("DD MMM YYYY, hh:mm a")))])])]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"justify-content-between d-flex"},[n("p",{staticClass:"text-muted"},[t._v("\n              Customer Name :\n              "),n("strong",[t._v(t._s(t.boarding.booking_data.customer.first_name+" "+t.boarding.booking_data.customer.last_name))])]),t._v(" "),n("p",["onprogress"==t.boarding.booking_data.status?n("span",{staticClass:"badge badge-pill badge-warning"},[t._v("On Progress")]):t._e(),t._v(" "),"canceled"==t.boarding.booking_data.status?n("span",{staticClass:"badge badge-pill badge-danger"},[t._v("Canceled")]):t._e(),t._v(" "),"completed"==t.boarding.booking_data.status?n("span",{staticClass:"badge badge-pill badge-success"},[t._v("Completed")]):t._e()])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between"},[n("p",{staticClass:"text-muted"},[t._v("\n              Contact : "),n("strong",[t._v(t._s(t.boarding.booking_data.customer.cell_phone))])]),t._v(" "),n("p",{staticClass:"text-muted"},[t._v("\n              Total Price: "),n("strong",{staticClass:"text-success"},[t._v("$ "+t._s(t.boarding.booking_data.price))])])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between"},[n("p",{staticClass:"text-muted"},[t._v("\n              Booking Range :\n              "),n("strong",[t._v(t._s(t.moment(t.boarding.booking_data.start_date).format("DD MMM YYYY"))+" to\n                "+t._s(t.moment(t.boarding.booking_data.ending_date).format("DD MMM YYYY")))])]),t._v(" "),n("p",{staticClass:"text-muted"},[t._v("\n              Total Days: "),n("strong",[t._v(t._s(t.boarding.booking_data.stay_day)+" Days")])])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between"},[n("p",{staticClass:"text-muted"},[t._v("\n              Drop Off Time : "),n("strong",{staticClass:"text-warning"},[t._v(t._s(t.boarding.booking_data.checkIn?t.moment(t.boarding.booking_data.checkIn).format("DD MMM YYYY - hh:mm A"):"N/A"))])]),t._v(" "),n("p",{staticClass:"text-muted"},[t._v("\n              Pick Up Time: "),n("strong",{staticClass:"text-warning"},[t._v(t._s(t.boarding.booking_data.checkOut?t.moment(t.boarding.booking_data.checkOut).format("DD MMM YYYY - hh:mm A"):"N/A"))]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),0==t.checkOut.checkOutForm&&"Pending"!=t.boarding.booking_data.status?n("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){t.checkOut.checkOutForm=!0}}},[t._v("Set Pick Up Time")]):t._e()])]),t._v(" "),1==t.checkOut.checkOutForm?n("div",{staticClass:"row justify-content-end"},[n("div",{staticClass:"col-md-4"},[n("form",{on:{submit:function(a){return a.preventDefault(),t.checkOutData.apply(null,arguments)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checkOut.date,expression:"checkOut.date"}],staticClass:"form-control",attrs:{type:"datetime-local"},domProps:{value:t.checkOut.date},on:{input:function(a){a.target.composing||t.$set(t.checkOut,"date",a.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("Button",{staticClass:"btn btn-sm btn-success",attrs:{form:t.checkOut}},[t._v("Set")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){t.checkOut.checkOutForm=!1,t.checkOut.reset()}}},[t._v("Cancel")])],1)])])]):t._e(),t._v(" "),[null==t.boarding.booking_data.checkIn&&"onprogress"==t.boarding.booking_data.status?n("p",{staticClass:"text-warning"},[t._m(0)]):null!=t.boarding.booking_data.checkIn&&"onprogress"==t.boarding.booking_data.status?n("p",{staticClass:"text-success"},[t._m(1)]):null!=t.boarding.booking_data.checkIn&&"completed"==t.boarding.booking_data.status?n("p",{staticClass:"text-success"},[t._m(2)]):"canceled"==t.boarding.booking_data.status?n("p",{staticClass:"text-danger"},[t._m(3)]):"Pending"==t.boarding.booking_data.status?n("p",{staticClass:"text-warning"},[t._m(4)]):t._e()],t._v(" "),n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[t._m(5),t._v(" "),n("tbody",t._l(t.boarding.pet_data,(function(a,s){return n("tr",{key:s},[n("td",[t._v(t._s(s+1))]),t._v(" "),n("td",[t._v(t._s(a.pet.name))]),t._v(" "),n("td",[t._v(t._s(a.kennel.unique_id))]),t._v(" "),n("td",[n("button",{staticClass:"btn btn-sm btn-outline-success",attrs:{title:"Print Pet Info"},on:{click:function(n){return t.printData(t.boarding.booking_data.id,a.pet_id)}}},[n("i",{staticClass:"fas fa-print"})])])])})),0)])]),t._v(" "),n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-md-12 text-center"},[n("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"/admin/api/print-boarding-contract?boardingId="+t.boarding.booking_data.id,target:"_blank"}},[n("i",{staticClass:"fas fa-print"}),t._v(" Print Contract")])])])],2),t._v(" "),n("div",{staticClass:"card-footer"},[null==t.boarding.booking_data.checkIn&&"Pending"!=t.boarding.booking_data.status?n("button",{staticClass:"btn btn-sm btn-success",on:{click:t.checkIn}},[t._v("Check In")]):t._e(),t._v(" "),"Pending"==t.boarding.booking_data.status||"Pending"==t.boarding.booking_data.status?n("button",{staticClass:"btn btn-sm btn-success",on:{click:function(a){return t.changeStatus(t.boarding.booking_data.id,"onprogress")}}},[t._v("\n            Approve\n          ")]):t._e(),t._v(" "),"onprogress"==t.boarding.booking_data.status||"Pending"==t.boarding.booking_data.status?n("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){return t.changeStatus(t.boarding.booking_data.id,"canceled")}}},[t._v("\n            Cancel\n          ")]):t._e(),t._v(" "),"onprogress"==t.boarding.booking_data.status?n("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(a){return t.changeStatus(t.boarding.booking_data.id,"completed")}}},[t._v("\n            Finish\n          ")]):t._e()])])])])])}),[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("strong",[n("i",{staticClass:"fas fa-circle"}),t._v(" Waiting For Customer Check in")])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("strong",[n("i",{staticClass:"fas fa-circle"}),t._v(" Reservation Started")])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("strong",[n("i",{staticClass:"fas fa-circle"}),t._v(" Booking was completed")])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("strong",[n("i",{staticClass:"fas fa-circle"}),t._v(" Booking was canceled")])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("strong",[n("i",{staticClass:"fas fa-circle"}),t._v(" Waiting for approval")])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("thead",{staticStyle:{"background-color":"antiquewhite"}},[n("tr",[n("td",[t._v("#")]),t._v(" "),n("td",[t._v("Pet Name")]),t._v(" "),n("td",[t._v("Kennel ID")]),t._v(" "),n("td")])])}],!1,null,null,null).exports}}]);